function menu(){$(window).scroll(function(){var e=$(".trigger-header").offset().top-112;$(document).scrollTop()<e?$(".header").removeClass("alt"):$(".header").addClass("alt")})}function hamburger(){$(".hamburger").click(function(){$(".hamburger, .mobile-menu").toggleClass("active")}),$(".anchor").click(function(){$(".hamburger, .mobile-menu").toggleClass("active")})}function carousel(){$(".owl-carousel").owlCarousel({autoplay:!0,autoplaySpeed:1e3,autoplayTimeout:9e3,items:1,onChanged:callback,rewind:!0})}function heroCopy(){var e=$(".hero-text .active").innerHeight();$(".hero-text").css("height",e)}function callback(e){switch(e.item.index){case 0:$(".hero-copy").removeClass("active"),$(".copy-1").addClass("active");break;case 1:$(".hero-copy").removeClass("active"),$(".copy-2").addClass("active");break;case 2:$(".hero-copy").removeClass("active"),$(".copy-3").addClass("active");break;case 3:$(".hero-copy").removeClass("active"),$(".copy-4").addClass("active")}heroCopy()}function openPopup(e){$.ajax({url:"portfolio/"+e+".html",dataType:"html"}).then(function(e){$(".popup").html(e)}),$(".popup").show(),$("body").css({height:"100vh",overflow:"hidden"})}function closePopup(e){$(".popup").hide().empty(),$(".popup-video").each(function(){$(this)[0].load()}),$("body").css({height:"auto",overflow:"visible"})}function blog(){$("body").hasClass("main")?mainPosts():$("body").hasClass("news")?blogPosts():$("body").hasClass("article")&&postPosts()}function mainPosts(){$.ajax({url:"https://public-api.wordpress.com/wp/v2/sites/ocupasite.wordpress.com/posts?per_page=3&orderby=date",dataType:"json"}).then(function(e){showPosts(e)})}function blogPosts(){$.ajax({url:"https://public-api.wordpress.com/wp/v2/sites/ocupasite.wordpress.com/posts?per_page=100&orderby=date",dataType:"json"}).then(function(e){howMany(e)})}function postPosts(){var e=getUrlParameter("id");$.ajax({url:"https://public-api.wordpress.com/wp/v2/sites/ocupasite.wordpress.com/posts/"+e,dataType:"json"}).then(function(e){drawPost(e)}),$.ajax({url:"https://public-api.wordpress.com/wp/v2/sites/ocupasite.wordpress.com/posts?per_page=3&orderby=date",dataType:"json"}).then(function(e){showPosts(e)})}function showPosts(e){for(var t=0;t<=e.length;t++){var n=e[t].featured_media_url,a=e[t].title.rendered,o=$(e[t].excerpt.rendered).text(),s=dateConverter(e[t].date),r=e[t].id,i='<div class="news-item"><div class="news-image news-image'+t+'"></div><div class="news-info"><a href="post.html?id='+r+'"><h4 class="news-title">'+a+'</h4></a><p class="news-excerpt">'+o+'</p><p class="news-date">'+s+'</p><a class="news-link" href="post.html?id='+r+'">Ver más</a></div></div>';$(".blog-news").append(i),$(".news-image"+t).css("background",'url("'+n+'") center/cover no-repeat')}}function howMany(e){var t,n,a=e.length,o=a,s=1;a<=6?(n=a,t=a,$(".blog-more").hide()):(n=6,o=a-(t=6)),$(".blog-more").on("click",function(){o>=7?(o=a-(t+=n=6),drawBlog(e,s+=n,n)):(s+=n,o=a-(t+=n=o),drawBlog(e,s,n),0==o&&$(".blog-more").fadeOut())}),drawBlog(e,s,n)}function drawBlog(e,t,n){for(var a=t-1;a<=t+(n-2);a++){var o=e[a].featured_media_url,s=e[a].title.rendered,r=$(e[a].excerpt.rendered).text(),i=dateConverter(e[a].date),u=e[a].id,c='<div class="news-item"><div class="news-image news-image'+a+'"></div><div class="news-info"><a href="post.html?id='+u+'"><h4 class="news-title">'+s+'</h4></a><p class="news-excerpt">'+r+'</p><p class="news-date">'+i+'</p><a class="news-link" href="post.html?id='+u+'">Ver más</a></div></div>';$(".blog-news").append(c),$(".news-image"+a).css("background",'url("'+o+'") center/cover no-repeat')}}function drawPost(e){var t=e.featured_media_url,n=e.title.rendered,a=dateConverter(e.date),o=e.content.rendered;$(".post-head").css("background-image",'url("'+t+'")'),$(".post-title").html(n),$(".post-date").html(a),$(".post-content").html(o)}function dateConverter(e){var t=e.split("T")[0].split("-");return t[2]+" de "+["Enero","Febrero","Marzo","Abril","Mayo","Junio","Julio","Agosto","Septiembre","Octubre","Noviembre","Diciembre"][parseInt(t[1])-1]+" de "+t[0]}function getUrlParameter(e){var t,n,a=decodeURIComponent(window.location.search.substring(1)).split("&");for(n=0;n<a.length;n++)if((t=a[n].split("="))[0]===e)return void 0===t[1]||t[1]}function smoothScroll(){if($(".header").innerHeight()>78)e=78;else var e=$(".header").innerHeight();$('a[href*="#"]').not('[href="#"]').not('[href="#0"]').click(function(t){if(location.pathname.replace(/^\//,"")==this.pathname.replace(/^\//,"")&&location.hostname==this.hostname){var n=$(this.hash);(n=n.length?n:$("[name="+this.hash.slice(1)+"]")).length&&(t.preventDefault(),$("html, body").animate({scrollTop:n.offset().top-e},1e3,"easeInOutExpo",function(){var e=$(n);if(e.focus(),e.is(":focus"))return!1;e.attr("tabindex","-1"),e.focus()}))}})}$(document).ready(function(){menu(),hamburger(),carousel(),blog(),smoothScroll()}),$.easing.jswing=$.easing.swing,$.extend($.easing,{def:"easeOutQuad",swing:function(e,t,n,a,o){return $.easing[$.easing.def](e,t,n,a,o)},easeInQuad:function(e,t,n,a,o){return a*(t/=o)*t+n},easeOutQuad:function(e,t,n,a,o){return-a*(t/=o)*(t-2)+n},easeInOutQuad:function(e,t,n,a,o){return(t/=o/2)<1?a/2*t*t+n:-a/2*(--t*(t-2)-1)+n},easeInCubic:function(e,t,n,a,o){return a*(t/=o)*t*t+n},easeOutCubic:function(e,t,n,a,o){return a*((t=t/o-1)*t*t+1)+n},easeInOutCubic:function(e,t,n,a,o){return(t/=o/2)<1?a/2*t*t*t+n:a/2*((t-=2)*t*t+2)+n},easeInQuart:function(e,t,n,a,o){return a*(t/=o)*t*t*t+n},easeOutQuart:function(e,t,n,a,o){return-a*((t=t/o-1)*t*t*t-1)+n},easeInOutQuart:function(e,t,n,a,o){return(t/=o/2)<1?a/2*t*t*t*t+n:-a/2*((t-=2)*t*t*t-2)+n},easeInQuint:function(e,t,n,a,o){return a*(t/=o)*t*t*t*t+n},easeOutQuint:function(e,t,n,a,o){return a*((t=t/o-1)*t*t*t*t+1)+n},easeInOutQuint:function(e,t,n,a,o){return(t/=o/2)<1?a/2*t*t*t*t*t+n:a/2*((t-=2)*t*t*t*t+2)+n},easeInSine:function(e,t,n,a,o){return-a*Math.cos(t/o*(Math.PI/2))+a+n},easeOutSine:function(e,t,n,a,o){return a*Math.sin(t/o*(Math.PI/2))+n},easeInOutSine:function(e,t,n,a,o){return-a/2*(Math.cos(Math.PI*t/o)-1)+n},easeInExpo:function(e,t,n,a,o){return 0==t?n:a*Math.pow(2,10*(t/o-1))+n},easeOutExpo:function(e,t,n,a,o){return t==o?n+a:a*(1-Math.pow(2,-10*t/o))+n},easeInOutExpo:function(e,t,n,a,o){return 0==t?n:t==o?n+a:(t/=o/2)<1?a/2*Math.pow(2,10*(t-1))+n:a/2*(2-Math.pow(2,-10*--t))+n},easeInCirc:function(e,t,n,a,o){return-a*(Math.sqrt(1-(t/=o)*t)-1)+n},easeOutCirc:function(e,t,n,a,o){return a*Math.sqrt(1-(t=t/o-1)*t)+n},easeInOutCirc:function(e,t,n,a,o){return(t/=o/2)<1?-a/2*(Math.sqrt(1-t*t)-1)+n:a/2*(Math.sqrt(1-(t-=2)*t)+1)+n},easeInElastic:function(e,t,n,a,o){var s=1.70158,r=0,i=a;return 0==t?n:1==(t/=o)?n+a:(r||(r=.3*o),i<Math.abs(a)?(i=a,s=r/4):s=r/(2*Math.PI)*Math.asin(a/i),-i*Math.pow(2,10*(t-=1))*Math.sin((t*o-s)*(2*Math.PI)/r)+n)},easeOutElastic:function(e,t,n,a,o){var s=1.70158,r=0,i=a;return 0==t?n:1==(t/=o)?n+a:(r||(r=.3*o),i<Math.abs(a)?(i=a,s=r/4):s=r/(2*Math.PI)*Math.asin(a/i),i*Math.pow(2,-10*t)*Math.sin((t*o-s)*(2*Math.PI)/r)+a+n)},easeInOutElastic:function(e,t,n,a,o){var s=1.70158,r=0,i=a;return 0==t?n:2==(t/=o/2)?n+a:(r||(r=o*(.3*1.5)),i<Math.abs(a)?(i=a,s=r/4):s=r/(2*Math.PI)*Math.asin(a/i),t<1?i*Math.pow(2,10*(t-=1))*Math.sin((t*o-s)*(2*Math.PI)/r)*-.5+n:i*Math.pow(2,-10*(t-=1))*Math.sin((t*o-s)*(2*Math.PI)/r)*.5+a+n)},easeInBack:function(e,t,n,a,o,s){return void 0==s&&(s=1.70158),a*(t/=o)*t*((s+1)*t-s)+n},easeOutBack:function(e,t,n,a,o,s){return void 0==s&&(s=1.70158),a*((t=t/o-1)*t*((s+1)*t+s)+1)+n},easeInOutBack:function(e,t,n,a,o,s){return void 0==s&&(s=1.70158),(t/=o/2)<1?a/2*(t*t*((1+(s*=1.525))*t-s))+n:a/2*((t-=2)*t*((1+(s*=1.525))*t+s)+2)+n},easeInBounce:function(e,t,n,a,o){return a-$.easing.easeOutBounce(e,o-t,0,a,o)+n},easeOutBounce:function(e,t,n,a,o){return(t/=o)<1/2.75?a*(7.5625*t*t)+n:t<2/2.75?a*(7.5625*(t-=1.5/2.75)*t+.75)+n:t<2.5/2.75?a*(7.5625*(t-=2.25/2.75)*t+.9375)+n:a*(7.5625*(t-=2.625/2.75)*t+.984375)+n},easeInOutBounce:function(e,t,n,a,o){return t<o/2?.5*$.easing.easeInBounce(e,2*t,0,a,o)+n:.5*$.easing.easeOutBounce(e,2*t-o,0,a,o)+.5*a+n}});